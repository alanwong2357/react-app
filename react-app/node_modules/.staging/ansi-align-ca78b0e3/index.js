'use strict'

var stringWidth = require('string-width')

function ansiAlign (text, opts) {
  if (!text) return text

  opts = opts || {}
  var align = opts.align || 'center'

  // short-circuit `align: 'left'` as no-op
  if (align === 'left') return text

  var split = opts.split || '\n'
  var pad = opts.pad || ' '
  var widthDiffFn = align !== 'right' ? halfDiff : fullDiff

  var returnString = false
  if (!Array.isArray(text)) {
    returnString = true
    text = String(text).split(split)
  }

  var width